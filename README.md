# OIDC Demo Project / OIDC ÊºîÁ§∫È°πÁõÆ

[English](#english) | [‰∏≠Êñá](#‰∏≠Êñá)

---

## English

### Overview
This is a comprehensive OpenID Connect (OIDC) demonstration project that showcases the complete authentication flow between an OIDC Provider (Identity Provider) and a Client Application (Relying Party). The project is designed for educational purposes and local development testing.

### Project Structure
```
oidc-project/
‚îú‚îÄ‚îÄ simple-oidc-provider/     # OIDC Provider (Authentication Server)
‚îÇ   ‚îú‚îÄ‚îÄ main.go              # Provider implementation
‚îÇ   ‚îú‚îÄ‚îÄ go.mod               # Go module file
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # English documentation
‚îÇ   ‚îî‚îÄ‚îÄ README_zh.md         # Chinese documentation
‚îú‚îÄ‚îÄ oidc-client-demo/        # OIDC Client (Relying Party)
‚îÇ   ‚îú‚îÄ‚îÄ main.go              # Main client logic
‚îÇ   ‚îú‚îÄ‚îÄ debug.go             # HTTP request/response debugging module
‚îÇ   ‚îú‚îÄ‚îÄ decoder.go           # Smart data format decoder module
‚îÇ   ‚îú‚îÄ‚îÄ go.mod               # Go module file
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # English documentation
‚îÇ   ‚îî‚îÄ‚îÄ README_zh.md         # Chinese documentation
‚îú‚îÄ‚îÄ trace-example.go         # HTTP network tracing example
‚îî‚îÄ‚îÄ README.md                # This file
```

### What This Project Demonstrates

#### Core Concepts Relationship
```mermaid
graph TD
    A[SSO Single Sign-On] -->|Implementation Method| B(OIDC)
    A -->|Implementation Method| C(SAML)
    B -->|Based on| D(OAuth2)
  
    D --> E[Authorization Framework]
    B --> F[Authentication Protocol]
    A --> G[User Experience]
  
    style A fill:#f9f,stroke:#333
    style B fill:#bbf,stroke:#333
    style D fill:#ff9,stroke:#333
```

#### Protocol Comparison
| **Aspect**        | **OAuth2**                 | **OIDC**                      | **SSO**                 |
|-------------------|----------------------------|-------------------------------|--------------------------|
| **Purpose**       | Resource authorization     | User authentication           | User experience goal     |
| **Output**        | Access Token               | ID Token + Access Token       | Seamless access          |
| **Information**   | No user identity           | Standardized user claims      | Cross-system sessions    |
| **Use Case**      | API access permission      | User login verification       | Single login experience  |

### Quick Start

#### Prerequisites
- Go 1.21 or higher
- Two terminal windows/tabs

#### Running the Demo

1. **Start the OIDC Provider (Terminal 1)**
   ```bash
   cd simple-oidc-provider
   go mod tidy
   go run main.go
   ```
   The provider will start on `http://127.0.0.1:9090`

2. **Start the Client Application (Terminal 2)**
   ```bash
   cd oidc-client-demo
   go mod tidy
   go run main.go
   ```
   The client will start on `http://127.0.0.1:8080`

3. **Test the Flow**
   - Open browser and visit: `http://127.0.0.1:8080/protected`
   - You'll be redirected to the OIDC provider login page
   - Login with: **Username**: `demo`, **Password**: `password`
   - Grant consent and you'll be redirected back to the client
   - View your authenticated session with user information

### Complete Authentication Flow

```mermaid
sequenceDiagram
    participant User
    participant Client as Client App (8080)
    participant Provider as OIDC Provider (9090)
  
    User->>Client: 1. Access /protected
    Client->>User: 2. Redirect to Provider
    User->>Provider: 3. Login (demo/password)
    Provider->>User: 4. Show consent page
    User->>Provider: 5. Grant authorization
    Provider->>Client: 6. Return with auth code
    Client->>Provider: 7. Exchange code for tokens
    Provider->>Client: 8. Return ID Token + Access Token
    Client->>User: 9. Show protected content
```

### Key Learning Points

1. **OAuth2 Foundation**: Understanding authorization vs authentication
2. **OIDC Extension**: How identity information is standardized
3. **JWT Security**: Token creation, signing, and verification
4. **SSO Implementation**: How single sign-on works in practice
5. **Real-world Integration**: Production-ready patterns and security

### Components

#### OIDC Provider (`simple-oidc-provider/`)
- **Role**: Identity Provider (IdP) / Authorization Server
- **Functionality**: 
  - User authentication
  - Authorization code generation
  - JWT token issuance and signing
  - OIDC discovery and JWKS endpoints
- **Key Features**: RSA-256 signing, in-memory storage, standard OIDC endpoints

#### OIDC Client (`oidc-client-demo/`)
- **Role**: Relying Party (RP) / Client Application
- **Functionality**:
  - User session management
  - OIDC flow initiation
  - Token validation and user info extraction
  - Protected resource serving
- **Key Features**: JWT verification, session management, security best practices

### Security Features Demonstrated

- **PKCE (Proof Key for Code Exchange)**: Enhanced security for public clients
- **State Parameter**: CSRF protection during OAuth2 flow
- **JWT Signature Verification**: Cryptographic token validation
- **Proper Token Handling**: Secure storage and transmission
- **Session Management**: Stateful sessions with stateless tokens

### Production Considerations

This is a **demonstration project**. For production use:

- Replace in-memory storage with databases
- Implement proper password hashing (bcrypt)
- Use HTTPS exclusively
- Add rate limiting and monitoring
- Implement token refresh flows
- Add comprehensive logging and audit trails
- Use proper secret management

### Advanced Go Concepts: Context in HTTP Debugging

This project demonstrates sophisticated usage of Go's `context` package for HTTP debugging and dependency injection:

#### Context Fundamentals
```go
type Context interface {
    Deadline() (deadline time.Time, ok bool)
    Done() <-chan struct{}
    Err() error
    Value(key interface{}) interface{}
}
```

#### HTTP Client Injection via Context
The project shows how OAuth2 libraries accept custom HTTP clients through context:

```go
// Custom HTTP client with debugging transport
client := &http.Client{
    Transport: NewDebugTransport(),
}

// Inject client via context
ctx := context.WithValue(context.Background(), oauth2.HTTPClient, client)

// OAuth2 library will use our custom client
token, err := oauth2Config.Exchange(ctx, code)
```

#### üîç OAuth2 Library Internal Implementation Tracking

By diving deep into the OAuth2 library source code, we discovered the key location where Context flows:

**File Path**: `golang.org/x/oauth2@v0.30.0/internal/transport.go`

```go
// HTTPClient is the context key to use with context.WithValue
var HTTPClient ContextKey

// ContextKey ensures key uniqueness and immutability
type ContextKey struct{}

// üéØ Key function: Extract HTTP client from context
func ContextClient(ctx context.Context) *http.Client {
    if ctx != nil {
        // ‚≠ê This is where Context.Value() method is actually called!
        if hc, ok := ctx.Value(HTTPClient).(*http.Client); ok {
            return hc  // Return our injected debug client
        }
    }
    return http.DefaultClient  // Fallback to default client
}
```

#### üîÑ Complete Context Flow Chain

```mermaid
sequenceDiagram
    participant UserCode as Our Code
    participant Context as Context
    participant OAuth2 as OAuth2.Exchange()
    participant Transport as transport.ContextClient()
    participant HTTP as HTTP Request
    
    UserCode->>Context: WithValue(ctx, oauth2.HTTPClient, debugClient)
    UserCode->>OAuth2: oauth2Config.Exchange(ctx, code)
    OAuth2->>Transport: ContextClient(ctx)
    Transport->>Context: ctx.Value(HTTPClient)
    Context->>Transport: return debugClient
    Transport->>OAuth2: return debugClient
    OAuth2->>HTTP: use debugClient for request
    HTTP->>UserCode: trigger our debug functionality
```

#### üí° Key Design Analysis

1. **ContextKey's Clever Design**:
   ```go
   type ContextKey struct{}
   ```
   - **Uniqueness**: Only OAuth2 library can create this type
   - **Immutability**: External packages cannot modify the key
   - **Memory Efficiency**: Empty struct uses no memory
   - **Type Safety**: Avoids string key collisions

2. **Actual Usage of Value() Method**:
   ```go
   // This is where Context interface's Value() method gets called!
   if hc, ok := ctx.Value(HTTPClient).(*http.Client); ok {
       return hc
   }
   ```

3. **Graceful Fallback Mechanism**:
   - If custom client found ‚Üí Use debug functionality
   - If not found ‚Üí Use default client
   - Ensures backward compatibility

#### Key Benefits in HTTP Debugging

1. **Non-intrusive Debugging**: Add HTTP tracing without modifying core business logic
2. **Dependency Injection**: Pass custom HTTP clients, timeouts, or configuration through context
3. **Request Correlation**: Track requests across multiple service calls
4. **Graceful Cancellation**: Handle timeouts and user cancellations properly

#### Practical Implementation
The `debug.go` module demonstrates:
- Custom `http.RoundTripper` implementation
- Request/response logging with proper formatting
- Integration with Go's `httptrace` package for network-level debugging
- Context-aware HTTP client configuration

#### Best Practices
- Use typed context keys to avoid collisions
- Always handle context cancellation in long-running operations
- Keep context values immutable and lightweight
- Use context for request-scoped data, not application configuration

### Educational Value

Perfect for:
- Understanding modern authentication protocols
- Learning OIDC implementation patterns
- Grasping OAuth2 vs OIDC differences
- Seeing SSO in action
- Mastering Go context patterns for HTTP debugging
- Learning dependency injection in Go
- Preparing for real-world integrations with providers like Google, Auth0, or Azure AD

---

## ‰∏≠Êñá

### Ê¶ÇËø∞
ËøôÊòØ‰∏Ä‰∏™ÂÖ®Èù¢ÁöÑ OpenID Connect (OIDC) ÊºîÁ§∫È°πÁõÆÔºåÂ±ïÁ§∫‰∫Ü OIDC Êèê‰æõËÄÖÔºàË∫´‰ªΩÊèê‰æõËÄÖÔºâÂíåÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫èÔºà‰æùËµñÊñπÔºâ‰πãÈó¥ÂÆåÊï¥ÁöÑËÆ§ËØÅÊµÅÁ®ã„ÄÇËØ•È°πÁõÆ‰∏ì‰∏∫ÊïôËÇ≤ÁõÆÁöÑÂíåÊú¨Âú∞ÂºÄÂèëÊµãËØïËÄåËÆæËÆ°„ÄÇ

### üéØ È°πÁõÆÁâπËâ≤

1. **üìö Ê∑±Â∫¶ÊïôÂ≠¶**: ËØ¶ÁªÜÊ≥®ÈáäÊØèË°åÂÖ≥ÈîÆ‰ª£Á†ÅÔºåÈÄÇÂêàÂ≠¶‰π† OIDC/OAuth2 ÂéüÁêÜ
2. **üîç ÁΩëÁªúË∞ÉËØï**: ÈõÜÊàêÂº∫Â§ßÁöÑ HTTP ËØ∑Ê±ÇËøΩË∏™ÂíåÂìçÂ∫îËß£Á†ÅÂäüËÉΩ
3. **üß© Ê®°ÂùóÂåñËÆæËÆ°**: Ë∞ÉËØïÂíåËß£Á†ÅÂäüËÉΩÁã¨Á´ãÂ∞ÅË£ÖÔºå‰ª£Á†ÅÁªìÊûÑÊ∏ÖÊô∞
4. **üåê ÂèåËØ≠ÊñáÊ°£**: ÂÆåÊï¥ÁöÑ‰∏≠Ëã±ÊñáËØ¥ÊòéÊñáÊ°£
5. **üõ°Ô∏è ÂÆâÂÖ®Á§∫ËåÉ**: ÊºîÁ§∫ state È™åËØÅ„ÄÅCSRF Èò≤Êä§„ÄÅJWT È™åËØÅÁ≠âÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ
6. **üé® Êô∫ËÉΩËß£Á†Å**: Ëá™Âä®ËØÜÂà´Âπ∂ÁæéËßÇÂ±ïÁ§∫ JSON„ÄÅJWT„ÄÅURL ÁºñÁ†ÅÁ≠âÂ§öÁßçÊï∞ÊçÆÊ†ºÂºè

### È°πÁõÆÁªìÊûÑ
```
oidc-project/
‚îú‚îÄ‚îÄ simple-oidc-provider/     # OIDC Êèê‰æõËÄÖÔºàËÆ§ËØÅÊúçÂä°Âô®Ôºâ
‚îÇ   ‚îú‚îÄ‚îÄ main.go              # Êèê‰æõËÄÖÂÆûÁé∞
‚îÇ   ‚îú‚îÄ‚îÄ go.mod               # Go Ê®°ÂùóÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # Ëã±ÊñáÊñáÊ°£
‚îÇ   ‚îî‚îÄ‚îÄ README_zh.md         # ‰∏≠ÊñáÊñáÊ°£
‚îú‚îÄ‚îÄ oidc-client-demo/        # OIDC ÂÆ¢Êà∑Á´ØÔºà‰æùËµñÊñπÔºâ
‚îÇ   ‚îú‚îÄ‚îÄ main.go              # ‰∏ªË¶ÅÂÆ¢Êà∑Á´ØÈÄªËæë
‚îÇ   ‚îú‚îÄ‚îÄ debug.go             # HTTP ËØ∑Ê±Ç/ÂìçÂ∫îË∞ÉËØïÊ®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ decoder.go           # Êô∫ËÉΩÊï∞ÊçÆÊ†ºÂºèËß£Á†ÅÊ®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ go.mod               # Go Ê®°ÂùóÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # Ëã±ÊñáÊñáÊ°£
‚îÇ   ‚îî‚îÄ‚îÄ README_zh.md         # ‰∏≠ÊñáÊñáÊ°£
‚îú‚îÄ‚îÄ trace-example.go         # HTTP ÁΩëÁªúËøΩË∏™Á§∫‰æã
‚îî‚îÄ‚îÄ README.md                # Ê≠§Êñá‰ª∂
```

### È°πÁõÆÊºîÁ§∫ÂÜÖÂÆπ

#### Ê†∏ÂøÉÊ¶ÇÂøµÂÖ≥Á≥ª
```mermaid
graph TD
    A[SSO ÂçïÁÇπÁôªÂΩï] -->|ÂÆûÁé∞ÊñπÂºè| B(OIDC)
    A -->|ÂÆûÁé∞ÊñπÂºè| C(SAML)
    B -->|Âü∫‰∫é| D(OAuth2)
  
    D --> E[ÊéàÊùÉÊ°ÜÊû∂]
    B --> F[ËÆ§ËØÅÂçèËÆÆ]
    A --> G[Áî®Êà∑‰ΩìÈ™å]
  
    style A fill:#f9f,stroke:#333
    style B fill:#bbf,stroke:#333
    style D fill:#ff9,stroke:#333
```

#### ÂçèËÆÆÂØπÊØî
| **ÊñπÈù¢**          | **OAuth2**                 | **OIDC**                      | **SSO**                 |
|-------------------|----------------------------|-------------------------------|--------------------------|
| **ÁõÆÁöÑ**          | ËµÑÊ∫êÊéàÊùÉ                   | Áî®Êà∑ËÆ§ËØÅ                      | Áî®Êà∑‰ΩìÈ™åÁõÆÊ†á             |
| **ËæìÂá∫**          | ËÆøÈóÆ‰ª§Áâå                   | ID ‰ª§Áâå + ËÆøÈóÆ‰ª§Áâå            | Êó†ÁºùËÆøÈóÆ                 |
| **‰ø°ÊÅØ**          | Êó†Áî®Êà∑Ë∫´‰ªΩ‰ø°ÊÅØ             | Ê†áÂáÜÂåñÁî®Êà∑Â£∞Êòé                | Ë∑®Á≥ªÁªü‰ºöËØù               |
| **‰ΩøÁî®Âú∫ÊôØ**      | API ËÆøÈóÆÊùÉÈôê               | Áî®Êà∑ÁôªÂΩïÈ™åËØÅ                  | ÂçïÊ¨°ÁôªÂΩï‰ΩìÈ™å             |

### Âø´ÈÄüÂºÄÂßã

#### ÂâçÁΩÆÊù°‰ª∂
- Go 1.21 ÊàñÊõ¥È´òÁâàÊú¨
- ‰∏§‰∏™ÁªàÁ´ØÁ™óÂè£/Ê†áÁ≠æÈ°µ

#### ËøêË°åÊºîÁ§∫

1. **ÂêØÂä® OIDC Êèê‰æõËÄÖÔºàÁªàÁ´Ø 1Ôºâ**
   ```bash
   cd simple-oidc-provider
   go mod tidy
   go run main.go
   ```
   Êèê‰æõËÄÖÂ∞ÜÂú® `http://127.0.0.1:9090` ÂêØÂä®

2. **ÂêØÂä®ÂÆ¢Êà∑Á´ØÂ∫îÁî®ÔºàÁªàÁ´Ø 2Ôºâ**
   ```bash
   cd oidc-client-demo
   go mod tidy
   go run main.go
   ```
   ÂÆ¢Êà∑Á´ØÂ∞ÜÂú® `http://127.0.0.1:8080` ÂêØÂä®

3. **ÊµãËØïÊµÅÁ®ã**
   - ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºö`http://127.0.0.1:8080/protected`
   - ÊÇ®Â∞ÜË¢´ÈáçÂÆöÂêëÂà∞ OIDC Êèê‰æõËÄÖÁôªÂΩïÈ°µÈù¢
   - ‰ΩøÁî®‰ª•‰∏ãÂá≠ÊçÆÁôªÂΩïÔºö**Áî®Êà∑Âêç**Ôºö`demo`Ôºå**ÂØÜÁ†Å**Ôºö`password`
   - Êéà‰∫àÂêåÊÑèÂêéÊÇ®Â∞ÜË¢´ÈáçÂÆöÂêëÂõûÂÆ¢Êà∑Á´Ø
   - Êü•ÁúãÂåÖÂê´Áî®Êà∑‰ø°ÊÅØÁöÑËÆ§ËØÅ‰ºöËØù

### ÂÆåÊï¥ËÆ§ËØÅÊµÅÁ®ã

```mermaid
sequenceDiagram
    participant User as Áî®Êà∑
    participant Client as ÂÆ¢Êà∑Á´ØÂ∫îÁî® (8080)
    participant Provider as OIDC Êèê‰æõËÄÖ (9090)
  
    User->>Client: 1. ËÆøÈóÆ /protected
    Client->>User: 2. ÈáçÂÆöÂêëÂà∞Êèê‰æõËÄÖ
    User->>Provider: 3. ÁôªÂΩï (demo/password)
    Provider->>User: 4. ÊòæÁ§∫ÂêåÊÑèÈ°µÈù¢
    User->>Provider: 5. Êéà‰∫àÊéàÊùÉ
    Provider->>Client: 6. ËøîÂõûÊéàÊùÉÁ†Å
    Client->>Provider: 7. Áî®‰ª£Á†Å‰∫§Êç¢‰ª§Áâå
    Provider->>Client: 8. ËøîÂõû ID ‰ª§Áâå + ËÆøÈóÆ‰ª§Áâå
    Client->>User: 9. ÊòæÁ§∫Âèó‰øùÊä§ÂÜÖÂÆπ
```

### ÂÖ≥ÈîÆÂ≠¶‰π†Ë¶ÅÁÇπ

1. **OAuth2 Âü∫Á°Ä**ÔºöÁêÜËß£ÊéàÊùÉ‰∏éËÆ§ËØÅÁöÑÂå∫Âà´
2. **OIDC Êâ©Â±ï**ÔºöË∫´‰ªΩ‰ø°ÊÅØÂ¶Ç‰ΩïÊ†áÂáÜÂåñ
3. **JWT ÂÆâÂÖ®**Ôºö‰ª§ÁâåÂàõÂª∫„ÄÅÁ≠æÂêçÂíåÈ™åËØÅ
4. **SSO ÂÆûÁé∞**ÔºöÂçïÁÇπÁôªÂΩïÂú®ÂÆûË∑µ‰∏≠ÁöÑÂ∑•‰ΩúÂéüÁêÜ
5. **ÁúüÂÆûÈõÜÊàê**ÔºöÁîü‰∫ßÂ∞±Áª™ÁöÑÊ®°ÂºèÂíåÂÆâÂÖ®ÊÄß

### È´òÁ∫ß Go Ê¶ÇÂøµÔºöContext Âú® HTTP Ë∞ÉËØï‰∏≠ÁöÑÂ∫îÁî®

Êú¨È°πÁõÆÊºîÁ§∫‰∫Ü Go `context` ÂåÖÂú® HTTP Ë∞ÉËØïÂíå‰æùËµñÊ≥®ÂÖ•‰∏≠ÁöÑÈ´òÁ∫ßÁî®Ê≥ïÔºö

#### Context Âü∫Á°ÄÂéüÁêÜ
```go
type Context interface {
    Deadline() (deadline time.Time, ok bool)  // Ë∂ÖÊó∂Êó∂Èó¥
    Done() <-chan struct{}                    // ÂèñÊ∂à‰ø°Âè∑
    Err() error                               // ÈîôËØØ‰ø°ÊÅØ
    Value(key interface{}) interface{}        // ÈîÆÂÄºÂ≠òÂÇ®
}
```

#### ÈÄöËøá Context Ê≥®ÂÖ• HTTP ÂÆ¢Êà∑Á´Ø
È°πÁõÆÂ±ïÁ§∫‰∫Ü OAuth2 Â∫ìÂ¶Ç‰ΩïÈÄöËøá context Êé•ÂèóËá™ÂÆö‰πâ HTTP ÂÆ¢Êà∑Á´ØÔºö

```go
// Â∏¶Ë∞ÉËØï‰º†ËæìÂ±ÇÁöÑËá™ÂÆö‰πâ HTTP ÂÆ¢Êà∑Á´Ø
client := &http.Client{
    Transport: NewDebugTransport(),
}

// ÈÄöËøá context Ê≥®ÂÖ•ÂÆ¢Êà∑Á´Ø
ctx := context.WithValue(context.Background(), oauth2.HTTPClient, client)

// OAuth2 Â∫ìÂ∞Ü‰ΩøÁî®Êàë‰ª¨ÁöÑËá™ÂÆö‰πâÂÆ¢Êà∑Á´Ø
token, err := oauth2Config.Exchange(ctx, code)
```

#### HTTP Ë∞ÉËØïÁöÑÂÖ≥ÈîÆ‰ºòÂäø

1. **Êó†‰æµÂÖ•ÂºèË∞ÉËØï**ÔºöÊó†ÈúÄ‰øÆÊîπÊ†∏ÂøÉ‰∏öÂä°ÈÄªËæëÂç≥ÂèØÊ∑ªÂä† HTTP ËøΩË∏™
2. **‰æùËµñÊ≥®ÂÖ•**ÔºöÈÄöËøá context ‰º†ÈÄíËá™ÂÆö‰πâ HTTP ÂÆ¢Êà∑Á´Ø„ÄÅË∂ÖÊó∂ÊàñÈÖçÁΩÆ
3. **ËØ∑Ê±ÇÂÖ≥ËÅî**ÔºöË∑®Â§ö‰∏™ÊúçÂä°Ë∞ÉÁî®ËøΩË∏™ËØ∑Ê±Ç
4. **‰ºòÈõÖÂèñÊ∂à**ÔºöÊ≠£Á°ÆÂ§ÑÁêÜË∂ÖÊó∂ÂíåÁî®Êà∑ÂèñÊ∂àÊìç‰Ωú

#### ÂÆûÈôÖÂÆûÁé∞
`debug.go` Ê®°ÂùóÊºîÁ§∫‰∫ÜÔºö
- Ëá™ÂÆö‰πâ `http.RoundTripper` ÂÆûÁé∞
- Â∏¶Ê†ºÂºèÂåñÁöÑËØ∑Ê±Ç/ÂìçÂ∫îÊó•ÂøóËÆ∞ÂΩï
- ‰∏é Go `httptrace` ÂåÖÈõÜÊàêËøõË°åÁΩëÁªúÁ∫ßË∞ÉËØï
- ‰∏ä‰∏ãÊñáÊÑüÁü•ÁöÑ HTTP ÂÆ¢Êà∑Á´ØÈÖçÁΩÆ

#### ÊúÄ‰Ω≥ÂÆûË∑µ
- ‰ΩøÁî®Á±ªÂûãÂåñÁöÑ context ÈîÆÈÅøÂÖçÂÜ≤Á™Å
- Âú®ÈïøÊó∂Èó¥ËøêË°åÁöÑÊìç‰Ωú‰∏≠ÂßãÁªàÂ§ÑÁêÜ context ÂèñÊ∂à
- ‰øùÊåÅ context ÂÄº‰∏çÂèØÂèò‰∏îËΩªÈáèÁ∫ß
- Â∞Ü context Áî®‰∫éËØ∑Ê±ÇËåÉÂõ¥ÁöÑÊï∞ÊçÆÔºåËÄåÈùûÂ∫îÁî®Á®ãÂ∫èÈÖçÁΩÆ

### ÁªÑ‰ª∂ËØ¥Êòé

#### OIDC Êèê‰æõËÄÖ (`simple-oidc-provider/`)
- **ËßíËâ≤**ÔºöË∫´‰ªΩÊèê‰æõËÄÖ (IdP) / ÊéàÊùÉÊúçÂä°Âô®
- **ÂäüËÉΩ**Ôºö
  - Áî®Êà∑ËÆ§ËØÅ
  - ÊéàÊùÉÁ†ÅÁîüÊàê
  - JWT ‰ª§ÁâåÂèëÊîæÂíåÁ≠æÂêç
  - OIDC ÂèëÁé∞Âíå JWKS Á´ØÁÇπ
- **ÂÖ≥ÈîÆÁâπÊÄß**ÔºöRSA-256 Á≠æÂêç„ÄÅÂÜÖÂ≠òÂ≠òÂÇ®„ÄÅÊ†áÂáÜ OIDC Á´ØÁÇπ

#### OIDC ÂÆ¢Êà∑Á´Ø (`oidc-client-demo/`)
- **ËßíËâ≤**Ôºö‰æùËµñÊñπ (RP) / ÂÆ¢Êà∑Á´ØÂ∫îÁî®
- **ÂäüËÉΩ**Ôºö
  - Áî®Êà∑‰ºöËØùÁÆ°ÁêÜ
  - OIDC ÊµÅÁ®ãÂêØÂä®
  - ‰ª§ÁâåÈ™åËØÅÂíåÁî®Êà∑‰ø°ÊÅØÊèêÂèñ
  - Âèó‰øùÊä§ËµÑÊ∫êÊúçÂä°
- **ÂÖ≥ÈîÆÁâπÊÄß**ÔºöJWT È™åËØÅ„ÄÅ‰ºöËØùÁÆ°ÁêÜ„ÄÅÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µ

### ÊºîÁ§∫ÁöÑÂÆâÂÖ®ÁâπÊÄß

- **PKCEÔºà‰ª£Á†Å‰∫§Êç¢ËØÅÊòéÂØÜÈí•Ôºâ**ÔºöÂÖ¨ÂÖ±ÂÆ¢Êà∑Á´ØÁöÑÂ¢ûÂº∫ÂÆâÂÖ®ÊÄß
- **Áä∂ÊÄÅÂèÇÊï∞**ÔºöOAuth2 ÊµÅÁ®ã‰∏≠ÁöÑ CSRF ‰øùÊä§
- **JWT Á≠æÂêçÈ™åËØÅ**ÔºöÂä†ÂØÜ‰ª§ÁâåÈ™åËØÅ
- **ÈÄÇÂΩìÁöÑ‰ª§ÁâåÂ§ÑÁêÜ**ÔºöÂÆâÂÖ®Â≠òÂÇ®Âíå‰º†Ëæì
- **‰ºöËØùÁÆ°ÁêÜ**ÔºöÊúâÁä∂ÊÄÅ‰ºöËØù‰∏éÊó†Áä∂ÊÄÅ‰ª§Áâå

### Áîü‰∫ßÁéØÂ¢ÉËÄÉËôë

ËøôÊòØ‰∏Ä‰∏™**ÊºîÁ§∫È°πÁõÆ**„ÄÇÁîü‰∫ß‰ΩøÁî®Êó∂ÈúÄË¶ÅÔºö

- Áî®Êï∞ÊçÆÂ∫ìÊõøÊç¢ÂÜÖÂ≠òÂ≠òÂÇ®
- ÂÆûÁé∞ÈÄÇÂΩìÁöÑÂØÜÁ†ÅÂìàÂ∏åÔºàbcryptÔºâ
- ‰∏ìÈó®‰ΩøÁî® HTTPS
- Ê∑ªÂä†ÈÄüÁéáÈôêÂà∂ÂíåÁõëÊéß
- ÂÆûÁé∞‰ª§ÁâåÂà∑Êñ∞ÊµÅÁ®ã
- Ê∑ªÂä†ÂÖ®Èù¢ÁöÑÊó•ÂøóËÆ∞ÂΩïÂíåÂÆ°ËÆ°Ë∑üË∏™
- ‰ΩøÁî®ÈÄÇÂΩìÁöÑÂØÜÈí•ÁÆ°ÁêÜ

### ÊïôËÇ≤‰ª∑ÂÄº

ÈùûÂ∏∏ÈÄÇÂêàÔºö
- ÁêÜËß£Áé∞‰ª£ËÆ§ËØÅÂçèËÆÆ
- Â≠¶‰π† OIDC ÂÆûÁé∞Ê®°Âºè
- ÊéåÊè° OAuth2 ‰∏é OIDC ÁöÑÂå∫Âà´
- ËßÇÂØü SSO ÁöÑÂÆûÈôÖËøê‰Ωú
- ‰∏∫‰∏é Google„ÄÅAuth0 Êàñ Azure AD Á≠âÊèê‰æõÂïÜÁöÑÁúüÂÆûÈõÜÊàêÂÅöÂáÜÂ§á

---

## License / ËÆ∏ÂèØËØÅ

This project is for educational purposes. Use at your own risk in production environments.

Êú¨È°πÁõÆ‰ªÖÁî®‰∫éÊïôËÇ≤ÁõÆÁöÑ„ÄÇÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠‰ΩøÁî®ÈúÄËá™ÊãÖÈ£éÈô©„ÄÇ

## Contributing / Ë¥°ÁåÆ

Feel free to submit issues and pull requests to improve the educational value of this demo.

Ê¨¢ËøéÊèê‰∫§ÈóÆÈ¢òÂíåÊãâÂèñËØ∑Ê±ÇÊù•ÊîπËøõÊ≠§ÊºîÁ§∫ÁöÑÊïôËÇ≤‰ª∑ÂÄº„ÄÇ


---

# ÊµÅÁ®ãËß£ËØª

Â•ΩÁöÑÔºåÊàë‰ª¨Êù•ËØ¶ÁªÜËß£ÊûêÊÇ®Êèê‰æõÁöÑËøô‰∏§ÊÆµGo‰ª£Á†ÅÊâÄÂÆûÁé∞ÁöÑ„ÄÅ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑOIDCÔºàOpenID ConnectÔºâËÆ§ËØÅÂë®Êúü„ÄÇ

Ëøô‰∏™ÊµÅÁ®ãË¢´Áß∞‰∏∫ **OIDCÊéàÊùÉÁ†ÅÊµÅÁ®ã (Authorization Code Flow)**ÔºåÊòØWebÂ∫îÁî®ÁôªÂΩïÊúÄÊ†áÂáÜ„ÄÅÊúÄÂÆâÂÖ®ÁöÑÊñπÂºè„ÄÇ‰∏ãÈù¢ÊàëÂ∞ÜÂàÜÊ≠•È™§ÊãÜËß£ÔºåÂπ∂ÊòéÁ°ÆÊåáÂá∫ÊØè‰∏ÄÊ≠•ÂØπÂ∫îÁöÑÊòØÂì™‰∏™Êñá‰ª∂‰∏≠ÁöÑÂì™‰∏™ÂáΩÊï∞„ÄÇ

### ÂèÇ‰∏éËÄÖÂÆö‰πâ

* **Áî®Êà∑ (User)**: Ê≠£Âú®‰ΩøÁî®ÊµèËßàÂô®ÁöÑÁúü‰∫∫„ÄÇ
* **Áî®Êà∑ÊµèËßàÂô® (Browser)**: Chrome, FirefoxÁ≠âÔºå‰Ωú‰∏∫Áî®Êà∑Âíå‰∏§‰∏™ÂêéÂè∞ÊúçÂä°‰πãÈó¥ÁöÑÂ™í‰ªã„ÄÇ
* **ÂÆ¢Êà∑Á´ØÂ∫îÁî® (RP)**: `oidc-demo/main.go`ÔºåËøêË°åÂú® `http://127.0.0.1:8080`„ÄÇ
* **ËÆ§ËØÅÊúçÂä° (OP)**: `simple-oidc-provider/main.go`ÔºåËøêË°åÂú® `http://127.0.0.1:9090`„ÄÇ

---

### ÂÆåÊï¥ËÆ§ËØÅÂë®ÊúüÔºàStep-by-StepÔºâ

‰∏ãÈù¢ÊòØÁî®Êà∑‰ªéÁÇπÂáªÁôªÂΩïÂà∞ÊàêÂäüÁúãÂà∞Ê¨¢ËøéÈ°µÈù¢ÁöÑÂÆåÊï¥ÊóÖÁ®ãÔºö

#### Á¨¨ 1 Ê≠•ÔºöÁî®Êà∑ÂèëËµ∑ÁôªÂΩï

* **Âä®‰Ωú**: Áî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ÊâìÂºÄ `http://127.0.0.1:8080`„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÊµèËßàÂô®Âêë **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÂèëËµ∑ `GET /` ËØ∑Ê±Ç„ÄÇ
    2.  `oidc-demo` ‰∏≠ÁöÑ `handleHome` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ
    3.  `r.Cookie("user-info")` Êâæ‰∏çÂà∞CookieÔºåÂõ†Ê≠§ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‚ÄúÁôªÂΩï‚ÄùÊåâÈíÆÁöÑHTMLÈ°µÈù¢„ÄÇ
* **Âä®‰Ωú**: Áî®Êà∑ÁÇπÂáª‚Äú‰ΩøÁî®Êàë‰ª¨ÁöÑËÆ§ËØÅÊúçÂä°ÁôªÂΩï‚ÄùÊåâÈíÆ„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÊµèËßàÂô®Âêë **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÂèëËµ∑ `GET /login` ËØ∑Ê±Ç„ÄÇ
    2.  `oidc-demo` ‰∏≠ÁöÑ `handleLogin` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ
    3.  **Ê†∏ÂøÉÊìç‰Ωú**:
        * ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫ÁöÑ`state`Â≠óÁ¨¶‰∏≤Áî®‰∫éÈò≤Ê≠¢CSRFÊîªÂáª„ÄÇ
        * Â∞Ü`state`Â≠òÂÖ•‰∏Ä‰∏™ÊúâÊó∂ÊïàÊÄßÁöÑCookie„ÄÇ
        * Ë∞ÉÁî® `oauth2Config.AuthCodeURL(state)` ÁîüÊàê‰∏Ä‰∏™ÊåáÂêë**ËÆ§ËØÅÊúçÂä°(OP)** ÁöÑURL„ÄÇ
        * ÈÄöËøá `http.Redirect` Â∞ÜÁî®Êà∑ÁöÑ**ÊµèËßàÂô®**ÈáçÂÆöÂêëÂà∞Ëøô‰∏™URL„ÄÇ

#### Á¨¨ 2 Ê≠•ÔºöÂú®ËÆ§ËØÅÊúçÂä°‰∏äËøõË°åËÆ§ËØÅÂíåÊéàÊùÉ

* **Âä®‰Ωú**: Áî®Êà∑ÁöÑÊµèËßàÂô®Ë¢´ÈáçÂÆöÂêëÂà∞ `http://127.0.0.1:9090/authorize?...`ÔºåÈ°µÈù¢‰∏äÊòæÁ§∫Âá∫ÁôªÂΩïÊ°Ü„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  **ËÆ§ËØÅÊúçÂä°(OP)** ÁöÑ `handleAuthorize` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇÂÆÉ‰ºöÈ™åËØÅURL‰∏≠ÁöÑ`client_id`Á≠â‰ø°ÊÅØÊòØÂê¶ÂêàÊ≥ï„ÄÇ
    2.  È™åËØÅÈÄöËøáÂêéÔºåÂÆÉÂ∞ÜËØ∑Ê±Ç‚ÄúËΩ¨Âèë‚ÄùÁªô `handleLoginPage` ÂáΩÊï∞„ÄÇ
    3.  `handleLoginPage` ÂáΩÊï∞ËøîÂõûÁôªÂΩïÈ°µÈù¢ÁöÑHTML„ÄÇ
* **Âä®‰Ωú**: Áî®Êà∑ËæìÂÖ•Áî®Êà∑Âêç `demo` ÂíåÂØÜÁ†Å `password`ÔºåÁÇπÂáª‚ÄúÁôªÂΩï‚Äù„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÊµèËßàÂô®Âêë **ËÆ§ËØÅÊúçÂä°(OP)** ÂèëËµ∑ `POST /login?...` ËØ∑Ê±Ç„ÄÇ
    2.  `handleLoginPage` ÂáΩÊï∞Â§ÑÁêÜ `POST` ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ÂêçÂØÜÁ†ÅÊòØÂê¶‰∏é `users` map‰∏≠ÁöÑÂåπÈÖç„ÄÇ
    3.  È™åËØÅÊàêÂäüÂêéÔºåÈÄöËøá `http.Redirect` Â∞ÜÁî®Êà∑ÁöÑÊµèËßàÂô®ÈáçÂÆöÂêëÂà∞ `/consent` È°µÈù¢„ÄÇ
* **Âä®‰Ωú**: Áî®Êà∑ÁúãÂà∞ÊéàÊùÉËØ∑Ê±ÇÈ°µÈù¢ÔºåÁÇπÂáª‚ÄúÂêåÊÑèÊéàÊùÉ‚Äù„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  `handleConsentPage` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®ÔºåÊòæÁ§∫ÊéàÊùÉ‰ø°ÊÅØ„ÄÇ
    2.  Áî®Êà∑ÁÇπÂáªÂêåÊÑèÂêéÔºåÊµèËßàÂô®Âêë **ËÆ§ËØÅÊúçÂä°(OP)** ÂèëËµ∑ `POST /consent?...` ËØ∑Ê±Ç„ÄÇ
    3.  `handleConsentPage` ÂáΩÊï∞Â§ÑÁêÜ `POST` ËØ∑Ê±Ç„ÄÇ
    4.  **Ê†∏ÂøÉÊìç‰Ωú**:
        * ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ**ÊéàÊùÉÁ†Å(Authorization Code)**„ÄÇ
        * Â∞ÜËøô‰∏™`code`‰∏é`clientID`„ÄÅ`userID`ÂíåËøáÊúüÊó∂Èó¥‰∏ÄËµ∑Â≠òÂÖ• `authCodes` map‰∏≠„ÄÇ
        * ÈÄöËøá `http.Redirect` Â∞ÜÁî®Êà∑ÁöÑ**ÊµèËßàÂô®**ÈáçÂÆöÂêëÂõû**ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÁöÑÂõûË∞ÉURL (`redirectURL`)ÔºåÂπ∂ÈôÑ‰∏ä`code`Âíå`state`„ÄÇ

#### Á¨¨ 3 Ê≠•ÔºöÂêéÂè∞‰∫§Êç¢‰ª§ÁâåÔºàÁî®Êà∑Êó†ÊÑüÁü•Ôºâ

* **Âä®‰Ωú**: Áî®Êà∑ÁöÑÊµèËßàÂô®Ë¢´ÈáçÂÆöÂêëÂà∞ `http://127.0.0.1:8080/auth/callback?code=...&state=...`„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÁöÑ `handleCallback` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ
    2.  ÂÆÉÈ¶ñÂÖà‰ªéCookie‰∏≠ÂèñÂá∫`state`‰∏éURL‰∏≠ÁöÑ`state`ËøõË°åÊØîËæÉÔºå‰ª•Á°Æ‰øùËØ∑Ê±ÇÁöÑÂêàÊ≥ïÊÄß„ÄÇ
    3.  **Ê†∏ÂøÉÊìç‰Ωú (ÂêéÂè∞Âà∞ÂêéÂè∞ÁöÑÈÄö‰ø°)**:
        * Ë∞ÉÁî® `oauth2Config.Exchange(ctx, code)`„ÄÇËøô‰∏™ÂáΩÊï∞‰ºöÂú®**ÂêéÂè∞**Âêë**ËÆ§ËØÅÊúçÂä°(OP)** ÁöÑ `/token` Á´ØÁÇπÂèëËµ∑‰∏Ä‰∏™`POST`ËØ∑Ê±Ç„ÄÇËøô‰∏™ËØ∑Ê±Ç‰∏≠ÂåÖÂê´‰∫Ü`code`„ÄÅ`client_id`Âíå`client_secret`„ÄÇ
* **‰ª£Á†ÅÊâßË°å (Âú®ËÆ§ËØÅÊúçÂä°OP‰æß)**:
    1.  **ËÆ§ËØÅÊúçÂä°(OP)** ÁöÑ `handleToken` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ
    2.  ÂÆÉ‰ºöÈ™åËØÅ`client_secret`„ÄÅ`code`ÁöÑÊúâÊïàÊÄßÔºàÊòØÂê¶Â≠òÂú®„ÄÅÊòØÂê¶ËøáÊúüÔºâ„ÄÇ
    3.  È™åËØÅÈÄöËøáÂêéÔºåÂÆÉ‰ºöÂà†Èô§Ëøô‰∏™`code`ÔºàÂõ†‰∏∫ÊéàÊùÉÁ†ÅÂè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨°Ôºâ„ÄÇ
    4.  **Ê†∏ÂøÉÊìç‰Ωú**:
        * ‰ΩøÁî® `privateKey` ÂàõÂª∫Âπ∂Á≠æÂêç‰∏Ä‰∏™ÂåÖÂê´Áî®Êà∑Ë∫´‰ªΩ‰ø°ÊÅØÔºà`iss`, `sub`, `aud`, `exp`, `name`, `email`Á≠âÔºâÁöÑ **ID Token (JWTÊ†ºÂºè)**„ÄÇ
        * Â∞Ü `ID Token` Âíå‰∏Ä‰∏™ `Access Token` ÂåÖË£ÖÂú®JSON‰∏≠ËøîÂõûÁªô**ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)**„ÄÇ

#### Á¨¨ 4 Ê≠•Ôºö‰ª§ÁâåÈ™åËØÅ‰∏é‰ºöËØùÂàõÂª∫

* **Âä®‰Ωú**: **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÁöÑÂêéÂè∞Êî∂Âà∞‰∫ÜÂåÖÂê´ `ID Token` ÁöÑJSONÂìçÂ∫î„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÂõûÂà∞ `oidc-demo` ÁöÑ `handleCallback` ÂáΩÊï∞Ôºå`oauth2Config.Exchange` Ë∞ÉÁî®ÊàêÂäüËøîÂõû„ÄÇ
    2.  ‰ªéËøîÂõûÁöÑ `oauth2Token` ‰∏≠ÊèêÂèñÂá∫ `rawIDToken` (ÂéüÂßãÁöÑJWTÂ≠óÁ¨¶‰∏≤)„ÄÇ
    3.  **Ê†∏ÂøÉÂÆâÂÖ®Êìç‰Ωú**:
        * Ë∞ÉÁî® `idTokenVerifier.Verify(ctx, rawIDToken)`„ÄÇ
        * Ëøô‰∏™ `Verify` ÂáΩÊï∞ÂÜÖÈÉ®‰ºöËá™Âä®ËøûÊé•Âà∞ **ËÆ§ËØÅÊúçÂä°(OP)** ÁöÑ `/jwks.json` Á´ØÁÇπËé∑ÂèñÂÖ¨Èí•ÔºåÁÑ∂ÂêéÁî®ÂÖ¨Èí•È™åËØÅ`ID Token`ÁöÑÁ≠æÂêç„ÄÇÂêåÊó∂ÔºåÂÆÉËøò‰ºöÊ£ÄÊü•`iss` (È¢ÅÂèëËÄÖ)„ÄÅ`aud` (Âèó‰ºó)„ÄÅ`exp` (ÊúâÊïàÊúü)Á≠âÂ£∞ÊòéÊòØÂê¶Ê≠£Á°Æ„ÄÇ
    4.  È™åËØÅÊàêÂäüÂêéÔºå`idToken.Claims(&claims)` Â∞ÜJWT‰∏≠ÁöÑÁî®Êà∑‰ø°ÊÅØËß£ÊûêÂà∞`UserInfo`ÁªìÊûÑ‰Ωì‰∏≠„ÄÇ
    5.  **Ê†∏ÂøÉÊìç‰Ωú**:
        * Â∞Ü`UserInfo`Â∫èÂàóÂåñ‰∏∫JSONÔºåÂÜçÁºñÁ†Å‰∏∫Base64Â≠óÁ¨¶‰∏≤„ÄÇ
        * ÈÄöËøá `http.SetCookie` Â∞ÜËøô‰∏™Â≠óÁ¨¶‰∏≤Â≠òÂÖ•Âêç‰∏∫ `user-info` ÁöÑ‰ºöËØùCookie‰∏≠„ÄÇ
        * ÈÄöËøá `http.Redirect` Â∞ÜÁî®Êà∑ÁöÑ**ÊµèËßàÂô®**ÈáçÂÆöÂêëÂà∞‰∏ªÈ°µ `/`„ÄÇ

#### Á¨¨ 5 Ê≠•ÔºöÁôªÂΩïÂÆåÊàêÔºåÁª¥ÊåÅ‰ºöËØù

* **Âä®‰Ωú**: Áî®Êà∑ÊµèËßàÂô®Ë¢´ÈáçÂÆöÂêëÂà∞ `http://127.0.0.1:8080`„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÊµèËßàÂô®ÂÜçÊ¨°Âêë **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÂèëËµ∑ `GET /` ËØ∑Ê±ÇÔºå‰ΩÜËøôÊ¨°ËØ∑Ê±Ç**‰ºöÂ∏¶‰∏ä `user-info` Cookie**„ÄÇ
    2.  `handleHome` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®Ôºå`r.Cookie("user-info")` ÊàêÂäüËé∑ÂèñÂà∞Cookie„ÄÇ
    3.  Á®ãÂ∫èËß£Á†ÅCookie‰∏≠ÁöÑ‰ø°ÊÅØÔºåÂπ∂ËøîÂõûÂåÖÂê´Áî®Êà∑ÂßìÂêç„ÄÅÈÇÆÁÆ±ÂíåÂ§¥ÂÉèÁöÑÊ¨¢ËøéÈ°µÈù¢„ÄÇ
* **Ëá≥Ê≠§Ôºå‰∏Ä‰∏™ÂÆåÊï¥ÁöÑËÆ§ËØÅÂë®ÊúüÁªìÊùü„ÄÇ**

#### ÁôªÂá∫Âë®Êúü

* **Âä®‰Ωú**: Áî®Êà∑ÁÇπÂáª‚ÄúÈÄÄÂá∫ÁôªÂΩï‚Äù„ÄÇ
* **‰ª£Á†ÅÊâßË°å**:
    1.  ÊµèËßàÂô®Âêë **ÂÆ¢Êà∑Á´ØÂ∫îÁî®(RP)** ÂèëËµ∑ `GET /logout` ËØ∑Ê±Ç„ÄÇ
    2.  `handleLogout` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®„ÄÇ
    3.  ÂÆÉÈÄöËøáËÆæÁΩÆ‰∏Ä‰∏™ÂêåÂêç‰ΩÜÂ∑≤ËøáÊúüÁöÑCookieÊù•**Ê∏ÖÈô§Êú¨Âú∞‰ºöËØù**„ÄÇ
    4.  Â∞ÜÁî®Êà∑ÈáçÂÆöÂêëÂõû‰∏ªÈ°µ `/`ÔºåÁî®Êà∑ÂèòÂõûÊú™ÁôªÂΩïÁä∂ÊÄÅ„ÄÇ

---
### ÊµÅÁ®ãÊÄªÁªì

Êï¥‰∏™Âë®ÊúüÂèØ‰ª•Ê¶ÇÊã¨‰∏∫‰∏ÄÁ≥ªÂàóÁ≤æÂøÉËÆæËÆ°ÁöÑ**ÈáçÂÆöÂêë**Âíå‰∏ÄÊ¨°ÂÖ≥ÈîÆÁöÑ**ÂêéÂè∞APIË∞ÉÁî®**Ôºö

1.  **ÂâçÁ´ØÈáçÂÆöÂêë (Áî®Êà∑ÂèÇ‰∏é)**: ÂÆ¢Êà∑Á´Ø -> ËÆ§ËØÅÊúçÂä° -> ÂÆ¢Êà∑Á´ØÂõûË∞É
2.  **ÂêéÂè∞‰∫§Êç¢ (Áî®Êà∑Êó†ÊÑüÁü•)**: ÂÆ¢Êà∑Á´Ø -> ËÆ§ËØÅÊúçÂä° -> ÂÆ¢Êà∑Á´Ø
3.  **ÂâçÁ´ØÂÜçÊ¨°ÈáçÂÆöÂêë (Áî®Êà∑ÂèÇ‰∏é)**: ÂÆ¢Êà∑Á´ØÂõûË∞É -> ÊúÄÁªà‰∏ªÈ°µ

Ëøô‰∏™ÊµÅÁ®ãÂ∞ÜÁî®Êà∑ÁöÑÂá≠ÊçÆÔºàÂØÜÁ†ÅÔºâÁâ¢Áâ¢Âú∞ÈöîÁ¶ªÂú®**ËÆ§ËØÅÊúçÂä°(OP)** ÂÜÖÈÉ®ÔºåÂÆ¢Êà∑Á´ØÂ∫îÁî®Ëá™ÂßãËá≥ÁªàÈÉΩÊé•Ëß¶‰∏çÂà∞Áî®Êà∑ÁöÑÂØÜÁ†ÅÔºåÂêåÊó∂ÈÄöËøáID TokenÂíå‰∏•Ê†ºÁöÑÈ™åËØÅÊµÅÁ®ãÔºåÂÆâÂÖ®„ÄÅÂèØÈù†Âú∞Á°ÆËÆ§‰∫ÜÁî®Êà∑ÁöÑË∫´‰ªΩ„ÄÇ